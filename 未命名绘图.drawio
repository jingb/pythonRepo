<mxfile host="app.diagrams.net" modified="2024-06-05T09:53:09.753Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36" etag="Bfzk3JbgT01bMBpB7AeW" version="24.4.9" type="github">
  <diagram name="Page-1" id="fc2ac565-0d4e-3f0d-88b0-a54af1634ed7">
    <mxGraphModel dx="3427.5" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1.5" pageWidth="1169" pageHeight="827" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" style=";html=1;" />
        <mxCell id="1" style=";html=1;" parent="0" />
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-2" value="consumer&lt;div&gt;只会消费某个topic的&lt;br&gt;某个partition&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-192.5" y="470" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-4" value="&lt;div&gt;func (consumer *ConsumerV6) ConsumeClaim(session sarama.ConsumerGroupSession, claim sarama.ConsumerGroupClaim) error {&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;topic := claim.Topic()&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;for message := range claim.Messages() {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-200" y="210" width="680" height="130" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-10" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-5" target="RgnSEe2fGSX4Xo0er4Zq-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-5" value="&lt;div&gt;单个channel&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="62.5" y="470" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-6" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.003;entryY=0.486;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-2" target="RgnSEe2fGSX4Xo0er4Zq-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-7" value="&lt;div&gt;goroutine1&lt;br&gt;反序列化+转格式&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="352.5" y="410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-8" value="&lt;div&gt;goroutine2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="352.5" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-9" value="&lt;div&gt;goroutineN&lt;br&gt;数量可配&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="352.5" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-11" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.417;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-5" target="RgnSEe2fGSX4Xo0er4Zq-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-12" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.004;entryY=0.517;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-5" target="RgnSEe2fGSX4Xo0er4Zq-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-13" value="&lt;div&gt;单个channel&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="470" width="160" height="70" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-14" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.016;entryY=0.543;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-7" target="RgnSEe2fGSX4Xo0er4Zq-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-15" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.009;entryY=0.571;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-8" target="RgnSEe2fGSX4Xo0er4Zq-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-16" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.643;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-9" target="RgnSEe2fGSX4Xo0er4Zq-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-17" value="&lt;div&gt;单个goroutine&lt;br&gt;攒批 + 主动超时&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="613.37" y="640" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-18" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.483;entryY=-0.014;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-13" target="RgnSEe2fGSX4Xo0er4Zq-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-21" value="goroutine1&lt;br&gt;取到数据直接写vm" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-22" value="&lt;div&gt;goroutine2&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="630" y="840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-26" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="683.37" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-23" value="goroutineN" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="776.75" y="840" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-24" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.483;entryY=1.014;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-21" target="RgnSEe2fGSX4Xo0er4Zq-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RgnSEe2fGSX4Xo0er4Zq-25" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=0.986;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="RgnSEe2fGSX4Xo0er4Zq-22" target="RgnSEe2fGSX4Xo0er4Zq-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
